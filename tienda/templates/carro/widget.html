<table class="table table-dark table-hover shadow-lg rounded-4 overflow-hidden border border-2 border-success">
    <thead class="bg-success text-white text-center">
        <tr>
            <th colspan="3" class="py-3 fs-4">
                <i class="fas fa-shopping-cart me-2"></i>Carrito de Compras
            </th>
        </tr>
        <tr class="fs-5">
            <th>Producto</th>
            <th>Cantidad</th>
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        {% if request.session.carro.items %}
            {% for key, value in request.session.carro.items %}
                <tr class="text-center align-middle">
                    <td class="d-flex align-items-center justify-content-center gap-3">
                        <img src="{{ value.imagen }}" alt="{{ value.nombre }}"
                             class="rounded shadow" style="width: 60px; height: 60px; object-fit: cover;">
                        <span class="fw-semibold fs-5">{{ value.nombre }}</span>
                    </td>
                    <td>
                        <a href="{% url 'carro:agregar' value.producto_id %}" class="btn btn-outline-success btn-sm fw-bold">+</a>
                        <span class="mx-3 fs-5">{{ value.cantidad }}</span>
                        <a href="{% url 'carro:restar' value.producto_id %}" class="btn btn-outline-danger btn-sm fw-bold">-</a>
                    </td>
                    <td class="fs-5 fw-semibold text-warning">{{ value.precio }} MXN</td>
                </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan="3" class="text-center">
                    <div class="alert alert-warning my-3 fw-bold">
                        <i class="fas fa-exclamation-circle me-2"></i>Tu carrito estÃ¡ vacÃ­o.
                    </div>
                </td>
            </tr>
        {% endif %}
    </tbody>
    <tfoot>
        <tr class="bg-dark text-white text-center">
            <td colspan="3" class="fw-bold fs-5 py-3">
                ðŸ’° Total: <span class="text-success>{{ importe_total_carro }}</span> MXN
            </td>
        </tr>
        {% if request.session.carro.items %}
        <tr>
            <td colspan="3" class="text-center pb-4">
                <a href="{% url 'procesar' %}" class="btn btn-lg btn-success px-4 shadow-sm">
                    <i class="fas fa-check-circle me-2"></i>Finalizar Pedido
                </a>
            </td>
        </tr>
        {% endif %}
    </tfoot>
</table>
